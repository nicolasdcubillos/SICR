CREATE TABLE Categoria (Id int(10) NOT NULL AUTO_INCREMENT, Nombre varchar(255) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE EstadoPedido (Id int(10) NOT NULL AUTO_INCREMENT, Nombre varchar(255) NOT NULL UNIQUE, PRIMARY KEY (Id));
CREATE TABLE EstadoProducto (Id int(10) NOT NULL AUTO_INCREMENT, Nombre varchar(255) NOT NULL, Descripcion varchar(255) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE EstadoTransferenciaItem (Id int(10) NOT NULL AUTO_INCREMENT, Nombre int(10) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE Item (Id int(10) NOT NULL AUTO_INCREMENT, Nombre varchar(255) NOT NULL, CostoUnitario float NOT NULL, PRIMARY KEY (Id));
CREATE TABLE ItemSedeRestaurante (Id int(10) NOT NULL AUTO_INCREMENT, SedeRestauranteId int(10) NOT NULL, ItemId int(10) NOT NULL, Cantidad int(10) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE Menu (Id int(10) NOT NULL AUTO_INCREMENT, SedeRestauranteId int(10) NOT NULL, Nombre varchar(255) NOT NULL, Descripcion varchar(255) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE MenuProducto (Id int(10) NOT NULL AUTO_INCREMENT, MenuId int(10) NOT NULL, ProductoId int(10) NOT NULL, Nombre varchar(255) NOT NULL, Descripcion varchar(255) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE Mesa (Id int(10) NOT NULL AUTO_INCREMENT, Asientos int(10) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE Miembro (Id int(10) NOT NULL AUTO_INCREMENT, Nombre varchar(255) NOT NULL, Apellido varchar(255) NOT NULL, Salario float NOT NULL, Telefono varchar(255) NOT NULL, TipoMiembroId int(10) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE Pedido (id int(10) NOT NULL AUTO_INCREMENT, UsuarioId int(10) NOT NULL, EstadoPedidoId int(10) NOT NULL, SedeRestauranteId int(10) NOT NULL, Subtotal float NOT NULL, Total float NOT NULL, Fecha timestamp NOT NULL, MiembroId int(10) NOT NULL, PRIMARY KEY (id));
CREATE TABLE Producto (Id int(10) NOT NULL AUTO_INCREMENT, EstadoProductoId int(10) NOT NULL, CategoriaId int(10) NOT NULL, SedeRestauranteId int(10) NOT NULL, Nombre varchar(255) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE ProductoItem (ItemId int(10) NOT NULL, ProductoId int(10) NOT NULL, Cantidad int(10) NOT NULL, UnidadMedida int(10) NOT NULL);
CREATE TABLE ProductoPedido (PedidoId int(10) NOT NULL, ProductoId int(10) NOT NULL, Cantidad int(11) NOT NULL);
CREATE TABLE Reserva (Id int(10) NOT NULL AUTO_INCREMENT, SedeRestauranteId int(10) NOT NULL, UsuarioId int(10) NOT NULL, Asientos int(10) NOT NULL, Fecha timestamp NOT NULL, Horas int(10) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE ReservaMesa (Id int(10) NOT NULL AUTO_INCREMENT, MesaId int(10) NOT NULL, ReservaId int(10) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE Restaurante (Id int(10) NOT NULL AUTO_INCREMENT, Nombre varchar(255) NOT NULL UNIQUE, PRIMARY KEY (Id));
CREATE TABLE SedeRestaurante (Id int(10) NOT NULL AUTO_INCREMENT, RestauranteId int(10) NOT NULL, MiembroId int(10) NOT NULL, Nombre varchar(255) NOT NULL, Direccion varchar(255) NOT NULL, Latitud varchar(255) NOT NULL, Longitud varchar(255) NOT NULL, FechaApertura timestamp NOT NULL, FechaCierre timestamp NOT NULL, Capacidad int(10) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE TipoMiembro (Id int(10) NOT NULL AUTO_INCREMENT, Nombre varchar(255) NOT NULL UNIQUE, PRIMARY KEY (Id));
CREATE TABLE TipoUsuario (Id int(10) NOT NULL AUTO_INCREMENT, Rol varchar(255) NOT NULL UNIQUE, PRIMARY KEY (Id));
CREATE TABLE TransferenciaItem (Id int(10) NOT NULL AUTO_INCREMENT, SedeRestauranteOrigenId int(10) NOT NULL, SedeRestauranteDestinoId int(10) NOT NULL, EstadoTransferenciaItemId int(10) NOT NULL, ItemId int(10) NOT NULL, Cantidad int(10) NOT NULL, PRIMARY KEY (Id));
CREATE TABLE Usuario (Id int(10) NOT NULL AUTO_INCREMENT, TipoUsuarioId int(10) NOT NULL, Username varchar(255) NOT NULL, Password varchar(255) NOT NULL, Nombres varchar(255) NOT NULL, Apellidos varchar(255) NOT NULL, Email varchar(255) NOT NULL, Telefono varchar(255) NOT NULL, Direccion varchar(255) NOT NULL, Latitud varchar(255) NOT NULL, Longitud varchar(255) NOT NULL, PRIMARY KEY (Id));
ALTER TABLE TransferenciaItem ADD CONSTRAINT FKTransferen52210 FOREIGN KEY (EstadoTransferenciaItemId) REFERENCES EstadoTransferenciaItem (Id);
ALTER TABLE TransferenciaItem ADD CONSTRAINT FKTransferen649159 FOREIGN KEY (ItemId) REFERENCES Item (Id);
ALTER TABLE TransferenciaItem ADD CONSTRAINT FKTransferen401550 FOREIGN KEY (SedeRestauranteDestinoId) REFERENCES SedeRestaurante (Id);
ALTER TABLE TransferenciaItem ADD CONSTRAINT FKTransferen608598 FOREIGN KEY (SedeRestauranteOrigenId) REFERENCES SedeRestaurante (Id);
ALTER TABLE ItemSedeRestaurante ADD CONSTRAINT FKItemSedeRe805119 FOREIGN KEY (ItemId) REFERENCES Item (Id);
ALTER TABLE Menu ADD CONSTRAINT FKMenu799713 FOREIGN KEY (SedeRestauranteId) REFERENCES SedeRestaurante (Id);
ALTER TABLE ItemSedeRestaurante ADD CONSTRAINT FKItemSedeRe256150 FOREIGN KEY (SedeRestauranteId) REFERENCES SedeRestaurante (Id);
ALTER TABLE MenuProducto ADD CONSTRAINT FKMenuProduc807150 FOREIGN KEY (ProductoId) REFERENCES Producto (Id);
ALTER TABLE Miembro ADD CONSTRAINT FKMiembro35755 FOREIGN KEY (TipoMiembroId) REFERENCES TipoMiembro (Id);
ALTER TABLE MenuProducto ADD CONSTRAINT FKMenuProduc942388 FOREIGN KEY (MenuId) REFERENCES Menu (Id);
ALTER TABLE Pedido ADD CONSTRAINT FKPedido311808 FOREIGN KEY (MiembroId) REFERENCES Miembro (Id);
ALTER TABLE SedeRestaurante ADD CONSTRAINT FKSedeRestau435425 FOREIGN KEY (MiembroId) REFERENCES Miembro (Id);
ALTER TABLE Producto ADD CONSTRAINT FKProducto904800 FOREIGN KEY (CategoriaId) REFERENCES Categoria (Id);
ALTER TABLE Pedido ADD CONSTRAINT FKPedido725993 FOREIGN KEY (EstadoPedidoId) REFERENCES EstadoPedido (Id);
ALTER TABLE ProductoPedido ADD CONSTRAINT FKProductoPe268325 FOREIGN KEY (ProductoId) REFERENCES Producto (Id);
ALTER TABLE Pedido ADD CONSTRAINT FKPedido873070 FOREIGN KEY (SedeRestauranteId) REFERENCES SedeRestaurante (Id);
ALTER TABLE SedeRestaurante ADD CONSTRAINT FKSedeRestau333812 FOREIGN KEY (RestauranteId) REFERENCES Restaurante (Id);
ALTER TABLE Producto ADD CONSTRAINT FKProducto155660 FOREIGN KEY (EstadoProductoId) REFERENCES EstadoProducto (Id);
ALTER TABLE Pedido ADD CONSTRAINT FKPedido253651 FOREIGN KEY (UsuarioId) REFERENCES Usuario (Id);
ALTER TABLE ProductoPedido ADD CONSTRAINT FKProductoPe26636 FOREIGN KEY (PedidoId) REFERENCES Pedido (id);
ALTER TABLE Usuario ADD CONSTRAINT FKUsuario810505 FOREIGN KEY (TipoUsuarioId) REFERENCES TipoUsuario (Id);
ALTER TABLE Reserva ADD CONSTRAINT FKReserva215017 FOREIGN KEY (UsuarioId) REFERENCES Usuario (Id);
ALTER TABLE Reserva ADD CONSTRAINT FKReserva834436 FOREIGN KEY (SedeRestauranteId) REFERENCES SedeRestaurante (Id);
ALTER TABLE ReservaMesa ADD CONSTRAINT FKReservaMes664605 FOREIGN KEY (ReservaId) REFERENCES Reserva (Id);
ALTER TABLE ReservaMesa ADD CONSTRAINT FKReservaMes709119 FOREIGN KEY (MesaId) REFERENCES Mesa (Id);
ALTER TABLE ProductoItem ADD CONSTRAINT FKProductoIt116149 FOREIGN KEY (ItemId) REFERENCES Item (Id);
ALTER TABLE ProductoItem ADD CONSTRAINT FKProductoIt206654 FOREIGN KEY (ProductoId) REFERENCES Producto (Id);


-- DROP TABLES
ALTER TABLE TransferenciaItem DROP FOREIGN KEY FKTransferen52210;
ALTER TABLE TransferenciaItem DROP FOREIGN KEY FKTransferen649159;
ALTER TABLE TransferenciaItem DROP FOREIGN KEY FKTransferen401550;
ALTER TABLE TransferenciaItem DROP FOREIGN KEY FKTransferen608598;
ALTER TABLE ItemSedeRestaurante DROP FOREIGN KEY FKItemSedeRe805119;
ALTER TABLE Menu DROP FOREIGN KEY FKMenu799713;
ALTER TABLE ItemSedeRestaurante DROP FOREIGN KEY FKItemSedeRe256150;
ALTER TABLE MenuProducto DROP FOREIGN KEY FKMenuProduc807150;
ALTER TABLE Miembro DROP FOREIGN KEY FKMiembro35755;
ALTER TABLE MenuProducto DROP FOREIGN KEY FKMenuProduc942388;
ALTER TABLE Pedido DROP FOREIGN KEY FKPedido311808;
ALTER TABLE SedeRestaurante DROP FOREIGN KEY FKSedeRestau435425;
ALTER TABLE Producto DROP FOREIGN KEY FKProducto904800;
ALTER TABLE Pedido DROP FOREIGN KEY FKPedido725993;
ALTER TABLE ProductoPedido DROP FOREIGN KEY FKProductoPe268325;
ALTER TABLE Pedido DROP FOREIGN KEY FKPedido873070;
ALTER TABLE SedeRestaurante DROP FOREIGN KEY FKSedeRestau333812;
ALTER TABLE Producto DROP FOREIGN KEY FKProducto155660;
ALTER TABLE Pedido DROP FOREIGN KEY FKPedido253651;
ALTER TABLE ProductoPedido DROP FOREIGN KEY FKProductoPe26636;
ALTER TABLE Usuario DROP FOREIGN KEY FKUsuario810505;
ALTER TABLE Reserva DROP FOREIGN KEY FKReserva215017;
ALTER TABLE Reserva DROP FOREIGN KEY FKReserva834436;
ALTER TABLE ReservaMesa DROP FOREIGN KEY FKReservaMes664605;
ALTER TABLE ReservaMesa DROP FOREIGN KEY FKReservaMes709119;
ALTER TABLE ProductoItem DROP FOREIGN KEY FKProductoIt116149;
ALTER TABLE ProductoItem DROP FOREIGN KEY FKProductoIt206654;
DROP TABLE IF EXISTS Categoria;
DROP TABLE IF EXISTS EstadoPedido;
DROP TABLE IF EXISTS EstadoProducto;
DROP TABLE IF EXISTS EstadoTransferenciaItem;
DROP TABLE IF EXISTS Item;
DROP TABLE IF EXISTS ItemSedeRestaurante;
DROP TABLE IF EXISTS Menu;
DROP TABLE IF EXISTS MenuProducto;
DROP TABLE IF EXISTS Mesa;
DROP TABLE IF EXISTS Miembro;
DROP TABLE IF EXISTS Pedido;
DROP TABLE IF EXISTS Producto;
DROP TABLE IF EXISTS ProductoItem;
DROP TABLE IF EXISTS ProductoPedido;
DROP TABLE IF EXISTS Reserva;
DROP TABLE IF EXISTS ReservaMesa;
DROP TABLE IF EXISTS Restaurante;
DROP TABLE IF EXISTS SedeRestaurante;
DROP TABLE IF EXISTS TipoMiembro;
DROP TABLE IF EXISTS TipoUsuario;
DROP TABLE IF EXISTS TransferenciaItem;
DROP TABLE IF EXISTS Usuario;
